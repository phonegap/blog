---
title: How to Get the Device&#39;s Phone Number Using PhoneGap Android
date: 2012-12-06 17:52:00 Z
tags:
- PhoneGap Network
status: publish
format: html
external: true
link: http://simonmacdonald.blogspot.com/2012/12/how-to-get-devices-phone-number-using.html
type: post
author: Simon MacDonald
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-cs_a2ro_P0Y/TkA8D-vPCVI/AAAAAAAABwE/gHJwh4m8Jkw/s1600/pg.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="200" src="http://1.bp.blogspot.com/-cs_a2ro_P0Y/TkA8D-vPCVI/AAAAAAAABwE/gHJwh4m8Jkw/s200/pg.png" width="159" /></a></div>I was a bit surprised when three people asked me how to do this in one day. I figured if there was enough interest in it then maybe it deserved a post of it's own. Basically you want to know the primary phone number of the device your app is running on. In order to do that in PhoneGap you will need to write a plugin to access&nbsp;the TelephonyManager service on Android.<br /><br />As always the code for this plugin is is GitHub at my <a href="https://github.com/macdonst/TelephoneNumberPlugin">TelephoneNumberPlugin</a> repo. If you'd rather have a more detailed walk through please read on. <br />First up let's code our JavaScript interface which we will use to get the telephone number. We'll setup a new interface at <i>"cordova/plugin/telephonenumber"</i> to avoid name collisions. Then the rest is fairly boiler plate code where we declare and error object that we won't even use and finally provide a get method. When you call the get method you should provide a success callback. The success callback will be invoked with a string that will contain the devices phone number. If something goes wrong the failure callback will be invoked. <p /><script src="https://gist.github.com/4221765.js?file=telephonenumber.js"></script> I've extracted the execute method from TelephoneNumber.java which extends from the new CordovaPlugin interface. The method is fairly self explanatory. If the device has a phone number it will be returned. If not the error call back is invoked with the <b>NO_TELEPHONE_NUMBER</b> error code. If you try to call anything other than <i>"get"</i> on this class you'll get a <b>INVALID_ACTION</b> error. <p/><script src="https://gist.github.com/4221765.js?file=telephonenumber.java"></script><p />In order to use this plugin you'll need to include the telephonenumber.js in your HTML as a script tag: <p /><script src="https://gist.github.com/4221765.js?file=scriptTag.html"></script> and add a line to res/xml/config.xml to tell the JavaScript side where to find your Java class: <p /><script src="https://gist.github.com/4221765.js?file=config.xml"></script> Now you should be able to get your devices phone number. Here is some sample code that writes the phone number out to the console: <br /><script src="https://gist.github.com/4221765.js?file=usage.js"></script><br /><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/72386855013225666-7784563412639733621?l=simonmacdonald.blogspot.com' alt='' /></div>
